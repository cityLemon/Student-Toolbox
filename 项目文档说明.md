# 古月方园 - 项目文档说明

## 1. 项目概述

### 1.1 项目简介
古月方园是一款集成多种实用功能的移动应用，旨在为用户提供便捷的日常生活管理工具。该应用采用现代化的UI设计和流畅的用户体验，集成了计算器、笔记、番茄钟和用户管理等多个功能模块。

### 1.2 项目目标
- 提供简洁、高效的日常工具集合
- 实现数据本地存储，保护用户隐私
- 打造流畅、直观的用户界面
- 支持跨平台兼容性（Android）

### 1.3 项目特色
- 模块化设计，各功能独立运行
- 统一的UI设计语言
- 本地数据存储，无需网络连接
- 响应式布局，适配不同屏幕尺寸

## 2. 功能模块设计

### 2.1 用户管理模块
#### 2.1.1 功能描述
提供用户注册、登录和个人资料管理功能，确保用户数据的安全性和隐私性。

#### 2.1.2 主要功能
- 用户注册：新用户账号创建
- 用户登录：已有用户身份验证
- 个人资料：查看和编辑个人信息
- 安全退出：安全退出当前账号

#### 2.1.3 技术实现
- 使用SharedPreferences存储用户凭证
- 采用加密算法保护敏感信息
- 实现会话管理和自动登录功能

### 2.2 计算器模块
#### 2.2.1 功能描述
提供基础和高级数学计算功能，满足用户日常计算需求。

#### 2.2.2 主要功能
- 基础运算：加减乘除
- 高级运算：百分比、平方根、幂运算
- 历史记录：保存计算历史
- 科学计算：三角函数、对数等

#### 2.2.3 技术实现
- 使用表达式解析引擎处理复杂计算
- 实现高精度数值计算
- 提供计算历史持久化存储

### 2.3 笔记模块
#### 2.3.1 功能描述
提供文本笔记创建、编辑和管理功能，帮助用户记录重要信息。

#### 2.3.2 主要功能
- 笔记创建：新建文本笔记
- 笔记编辑：修改已有笔记内容
- 笔记管理：分类、搜索和删除笔记
- 格式支持：支持基本文本格式

#### 2.3.3 技术实现
- 使用SQLite数据库存储笔记数据
- 实现全文搜索功能
- 支持富文本编辑和格式化

### 2.4 番茄钟模块
#### 2.4.1 功能描述
基于番茄工作法的时间管理工具，帮助用户提高工作效率和时间管理能力。

#### 2.4.2 主要功能
- 计时器：工作时间和休息时间计时
- 设置管理：自定义工作/休息时长
- 统计功能：记录和分析使用数据
- 通知提醒：声音和震动提醒

#### 2.4.3 技术实现
- 使用Kotlin协程实现精确计时
- 采用StateFlow进行状态管理
- 实现数据持久化和统计分析
- 集成系统通知和震动功能

## 3. 技术实现方案

### 3.1 技术栈
- **开发语言**: Kotlin
- **UI框架**: Jetpack Compose
- **架构模式**: MVVM (Model-View-ViewModel)
- **依赖注入**: Hilt
- **数据库**: Room (SQLite)
- **异步处理**: Kotlin Coroutines
- **状态管理**: StateFlow/SharedFlow
- **数据存储**: SharedPreferences
- **导航管理**: Navigation Compose

### 3.2 项目结构
```
app/src/main/java/com/example/guyuefangyuan/
├── data/                  # 数据层
│   ├── database/         # 数据库相关
│   ├── models/           # 数据模型
│   ├── repository/       # 数据仓库
│   └── utils/            # 工具类
├── navigation/           # 导航配置
├── screens/              # UI屏幕
│   ├── auth/            # 认证相关屏幕
│   ├── calculator/      # 计算器屏幕
│   ├── notes/           # 笔记屏幕
│   ├── pomodoro/        # 番茄钟屏幕
│   └── profile/         # 个人资料屏幕
├── ui/                   # UI组件和主题
│   ├── components/      # 通用UI组件
│   └── theme/           # 应用主题
└── viewmodel/            # 视图模型
```

### 3.3 核心技术实现

#### 3.3.1 MVVM架构
- **Model**: 负责数据和业务逻辑
- **View**: 负责UI展示和用户交互
- **ViewModel**: 连接Model和View，处理UI状态

#### 3.3.2 Jetpack Compose
- 声明式UI编程范式
- 组件化UI设计
- 响应式状态更新
- 自定义主题和样式

#### 3.3.3 数据持久化
- 使用Room数据库存储结构化数据
- 使用SharedPreferences存储简单键值对
- 实现数据仓库模式统一数据访问

#### 3.3.4 异步编程
- 使用Kotlin协程处理异步任务
- 采用StateFlow进行状态管理
- 实现响应式数据流

## 4. 操作手册

### 4.1 安装与启动

#### 4.1.1 安装步骤
1. 下载应用安装包(APK文件)
2. 在Android设备上启用"未知来源"安装
3. 点击APK文件开始安装
4. 按照提示完成安装过程
5. 点击应用图标启动应用

#### 4.1.2 首次启动
- 首次启动将显示登录界面
- 新用户需要先注册账号
- 已有用户可直接登录

### 4.2 功能使用指南

#### 4.2.1 用户管理
**注册新账号**
1. 点击登录界面的"注册"按钮
2. 填写用户名、密码和确认密码
3. 点击"注册"完成账号创建
4. 系统将自动跳转到主界面

**登录账号**
1. 在登录界面输入用户名和密码
2. 点击"登录"按钮
3. 验证成功后进入主界面

**管理个人资料**
1. 在主界面点击"个人资料"
2. 查看和编辑个人信息
3. 保存修改或退出

#### 4.2.2 计算器使用
**基础计算**
1. 在主界面点击"计算器"
2. 使用数字和运算符按钮输入表达式
3. 点击"="获取计算结果
4. 使用"C"清除当前输入

**高级功能**
1. 使用"%"进行百分比计算
2. 使用"√"计算平方根
3. 使用"x²"计算平方
4. 点击"历史"查看计算记录

#### 4.2.3 笔记管理
**创建笔记**
1. 在主界面点击"笔记"
2. 点击"新建笔记"按钮
3. 输入笔记标题和内容
4. 点击"保存"完成创建

**编辑和管理笔记**
1. 在笔记列表中点击要编辑的笔记
2. 修改笔记内容后点击"保存"
3. 使用搜索功能查找特定笔记
4. 长按笔记选择删除操作

#### 4.2.4 番茄钟使用
**基本使用**
1. 在主界面点击"番茄钟"
2. 点击"开始"启动计时器
3. 工作时间结束后，应用将发出提醒
4. 切换到休息模式或继续下一个工作周期

**自定义设置**
1. 点击"设置"图标
2. 调整工作时间和休息时间
3. 设置长休息间隔
4. 配置声音和震动提醒
5. 启用/禁用自动开始功能

**查看统计**
1. 点击"统计"图标
2. 查看今日和总体统计数据
3. 分析工作效率趋势
4. 查看历史完成情况

### 4.3 常见问题解答

**Q: 忘记密码怎么办？**
A: 目前版本暂不支持密码重置，建议重新注册账号。

**Q: 笔记数据会丢失吗？**
A: 所有笔记数据都保存在本地设备上，卸载应用会导致数据丢失。

**Q: 番茄钟数据可以导出吗？**
A: 当前版本不支持数据导出，未来版本将考虑添加此功能。

**Q: 应用需要网络连接吗？**
A: 除首次安装外，应用所有功能均可离线使用。

## 5. 未来规划

### 5.1 短期计划
- 添加笔记加密功能
- 优化番茄钟统计图表
- 增加计算器单位转换功能
- 改进UI动画和过渡效果

### 5.2 长期计划
- 实现云端数据同步
- 开发iOS版本
- 添加团队协作功能
- 集成更多生产力工具

## 6. 开发团队与致谢

### 6.1 开发团队
- 项目负责人：[姓名]
- UI/UX设计：[姓名]
- 后端开发：[姓名]
- 前端开发：[姓名]
- 测试人员：[姓名]

### 6.2 技术致谢
- 感谢Jetpack Compose团队提供的优秀UI框架
- 感谢Kotlin团队提供的现代编程语言
- 感谢Android开发社区的技术支持和资源分享

---

*本文档最后更新时间：2023年11月*
*文档版本：1.0*